<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Execution Protocol | Executionist System</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #f3f4f6;
            margin: 0;
            padding: 2rem;
        }
        .container {
            max-width: 56rem;
            margin: 0 auto;
        }
        .hide {
            display: none !important;
        }
        .border-bottom {
            border-bottom: 1px solid #1f2937;
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }
        .header-icon {
            font-size: 1rem;
        }
        .header-label {
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            color: #6b7280;
        }
        .title {
            font-size: 1.875rem;
            font-weight: bold;
            margin-bottom: 0.75rem;
        }
        .subtitle {
            color: #9ca3af;
            font-size: 0.875rem;
        }
        .box {
            background-color: #111827;
            border: 1px solid #1f2937;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .box-dark {
            background-color: #000;
            border: 1px solid #1f2937;
            padding: 1.5rem;
        }
        .section-title {
            font-size: 0.875rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            letter-spacing: 0.05em;
        }
        .text-base {
            font-size: 1rem;
            color: #fff;
            margin-bottom: 2rem;
        }
        .text-sm {
            font-size: 0.875rem;
            color: #d1d5db;
        }
        .text-xs {
            font-size: 0.75rem;
            color: #9ca3af;
        }
        .btn {
            width: 100%;
            padding: 1rem 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            text-align: left;
        }
        .btn-primary {
            background-color: #fff;
            color: #000;
        }
        .btn-primary:hover {
            background-color: #e5e7eb;
        }
        .btn-secondary {
            background-color: transparent;
            color: #9ca3af;
            border: 1px solid #374151;
        }
        .btn-secondary:hover {
            border-color: #6b7280;
        }
        .btn-kill {
            background-color: #7f1d1d;
            border: 1px solid #7f1d1d;
            color: #fff;
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            font-weight: bold;
        }
        .btn-kill:hover {
            background-color: #991b1b;
        }
        .space-y-4 > * + * {
            margin-top: 1rem;
        }
        .space-y-3 > * + * {
            margin-top: 0.75rem;
        }
        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }
        .path-btn {
            margin-bottom: 1rem;
        }
        .path-label {
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        .path-desc {
            font-size: 0.75rem;
            color: #374151;
        }
        input {
            flex: 1;
            background-color: #111827;
            border: 1px solid #1f2937;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            color: #f3f4f6;
            font-family: 'Courier New', monospace;
        }
        input:focus {
            outline: none;
            border-color: #4b5563;
        }
        .flex {
            display: flex;
        }
        .gap-3 {
            gap: 0.75rem;
        }
        .justify-between {
            justify-content: space-between;
        }
        .items-center {
            align-items: center;
        }
        .items-start {
            align-items: flex-start;
        }
        .w-6 {
            width: 1.5rem;
        }
        .flex-1 {
            flex: 1;
        }
        .project-row {
            background-color: #111827;
            border: 1px solid #1f2937;
            padding: 1rem;
        }
        .constraint-card {
            background-color: #111827;
            border: 1px solid #1f2937;
            padding: 1.25rem;
            cursor: pointer;
            transition: border-color 0.2s;
        }
        .constraint-card:hover {
            border-color: #4b5563;
        }
        .constraint-card.selected {
            border-color: #fff;
        }
        .warning-box {
            background-color: #7f1d1d;
            border: 1px solid #991b1b;
            padding: 1rem;
            margin-top: 1.5rem;
        }
        .success-box {
            background-color: #111827;
            border: 1px solid #374151;
            padding: 1rem;
            margin-top: 1.5rem;
        }
        .footer {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid #1f2937;
            text-align: center;
        }
        ol {
            padding-left: 0;
            list-style: none;
        }
        ul {
            padding-left: 0;
            list-style: none;
        }
        a {
            color: inherit;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- Header -->
        <div class="border-bottom">
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <span class="header-icon">⚙️</span>
                <span class="header-label">EXECUTIONIST PROTOCOL</span>
            </div>
            <h1 class="title">The Execution Filter</h1>
            <p class="subtitle">Kill the noise. Lock the constraint. Ship the output.</p>
        </div>

        <!-- SCREEN 1: Entry Point -->
        <div id="entryScreen">
            <div class="box">
                <h2 class="section-title">DIAGNOSTIC QUESTION</h2>
                <p class="text-base">
                    Do you have too many ideas, or zero ideas?
                </p>
                
                <div class="space-y-4">
                    <button onclick="selectPath('filter')" class="btn btn-primary path-btn">
                        <div class="path-label">PATH A: THE FILTER</div>
                        <div class="path-desc">I have too many ideas</div>
                    </button>
                    
                    <button onclick="selectPath('generator')" class="btn btn-primary path-btn">
                        <div class="path-label">PATH B: THE GENERATOR</div>
                        <div class="path-desc">I have zero ideas</div>
                    </button>
                </div>
            </div>

            <div class="box-dark">
                <p class="text-xs">
                    The filter identifies what to kill. The generator provides what to build. Both paths end with the same mandate: ship within 7 days.
                </p>
            </div>
        </div>

        <!-- SCREEN 2A: The Filter -->
        <div id="filterScreen" class="hide">
            <div class="box">
                <h2 class="section-title">FILTER PROTOCOL</h2>
                <ol class="space-y-2 text-sm">
                    <li>1. List every active project, idea, or incomplete asset.</li>
                    <li>2. Apply the Low-Energy Filter to each.</li>
                    <li>3. Kill everything except ONE survivor.</li>
                </ol>
            </div>

            <div style="margin-bottom: 2rem;">
                <h2 class="section-title" style="border-bottom: 1px solid #1f2937; padding-bottom: 0.5rem;">
                    ACTIVE PROJECTS / IDEAS
                </h2>
                <div id="projectList" class="space-y-3"></div>
                
                <button onclick="addProject()" class="btn btn-secondary" style="margin-top: 1rem; width: auto; padding: 0.5rem 1rem; font-size: 0.75rem;">
                    + Add Another
                </button>
            </div>

            <div class="box-dark" style="margin-bottom: 2rem;">
                <p class="text-sm" style="color: #9ca3af; margin-bottom: 0.75rem;">THE LOW-ENERGY FILTER</p>
                <p class="text-base" style="font-weight: bold;">
                    "Can I work on this during a low-energy Tuesday with no motivation?"
                </p>
                <p class="text-xs" style="margin-top: 1rem;">
                    If the answer is no, it depends on conditions you cannot control. Kill it.
                </p>
            </div>

            <div id="killZone" class="hide" style="margin-bottom: 2rem;">
                <h2 class="section-title" style="border-bottom: 1px solid #1f2937; padding-bottom: 0.5rem;">
                    ELIMINATION PROTOCOL
                </h2>
                <div id="killList" class="space-y-3"></div>
                
                <div id="splitFocusWarning" class="hide warning-box">
                    <p class="text-sm" style="color: #fff; font-weight: bold; margin-bottom: 0.5rem;">CONSTRAINT VIOLATION</p>
                    <p class="text-xs" style="color: #d1d5db;">
                        Execution fails when focus splits. Pick ONE survivor or the system stays locked.
                    </p>
                </div>

                <div id="survivorConfirmed" class="hide success-box">
                    <p class="text-sm" style="color: #fff; font-weight: bold; margin-bottom: 0.5rem;">SURVIVOR LOCKED</p>
                    <p class="text-xs" style="color: #d1d5db; margin-bottom: 1rem;">
                        Project: <span id="survivorName" style="color: #fff;"></span>
                    </p>
                    <button onclick="proceedToMandate('filter')" class="btn btn-primary">
                        PROCEED TO MANDATE
                    </button>
                </div>
            </div>

            <button id="beginKillBtn" onclick="beginKill()" class="btn btn-primary">
                BEGIN ELIMINATION
            </button>
        </div>

        <!-- SCREEN 2B: The Generator -->
        <div id="generatorScreen" class="hide">
            <div class="box">
                <h2 class="section-title">CONSTRAINT MACHINE</h2>
                <p class="text-sm" style="margin-bottom: 1rem;">
                    The problem is not lack of ideas. The problem is lack of constraint.
                </p>
                <p class="text-sm">
                    Pick ONE constraint. The machine will lock it. You have 7 days to make it live.
                </p>
            </div>

            <div style="margin-bottom: 2rem;">
                <h2 class="section-title" style="border-bottom: 1px solid #1f2937; padding-bottom: 0.5rem;">
                    AVAILABLE CONSTRAINTS
                </h2>
                
                <div class="space-y-4">
                    <div onclick="selectConstraint(0)" id="constraint-0" class="constraint-card">
                        <div class="flex justify-between items-start" style="margin-bottom: 0.5rem;">
                            <div class="text-sm" style="font-weight: bold; color: #fff;">CONSTRAINT 01: CONSULTATION</div>
                            <div id="lock-0" class="text-xs hide" style="color: #9ca3af;">LOCKED ⚙️</div>
                        </div>
                        <p class="text-xs" style="color: #9ca3af; margin-bottom: 0.75rem;">
                            Sell access to your time. One hour. One problem. One price.
                        </p>
                        <p class="text-xs" style="color: #6b7280;">
                            Observable Output: A payment link and booking calendar.
                        </p>
                    </div>

                    <div onclick="selectConstraint(1)" id="constraint-1" class="constraint-card">
                        <div class="flex justify-between items-start" style="margin-bottom: 0.5rem;">
                            <div class="text-sm" style="font-weight: bold; color: #fff;">CONSTRAINT 02: DIGITAL ASSET</div>
                            <div id="lock-1" class="text-xs hide" style="color: #9ca3af;">LOCKED ⚙️</div>
                        </div>
                        <p class="text-xs" style="color: #9ca3af; margin-bottom: 0.75rem;">
                            Package your knowledge into a 5-10 page PDF. Sell it for $10-50.
                        </p>
                        <p class="text-xs" style="color: #6b7280;">
                            Observable Output: A completed PDF and a sales page.
                        </p>
                    </div>

                    <div onclick="selectConstraint(2)" id="constraint-2" class="constraint-card">
                        <div class="flex justify-between items-start" style="margin-bottom: 0.5rem;">
                            <div class="text-sm" style="font-weight: bold; color: #fff;">CONSTRAINT 03: SERVICE AUDIT</div>
                            <div id="lock-2" class="text-xs hide" style="color: #9ca3af;">LOCKED ⚙️</div>
                        </div>
                        <p class="text-xs" style="color: #9ca3af; margin-bottom: 0.75rem;">
                            Review someone's system, process, or content. Deliver a written breakdown.
                        </p>
                        <p class="text-xs" style="color: #6b7280;">
                            Observable Output: A service description and first delivery example.
                        </p>
                    </div>
                </div>
            </div>

            <div id="constraintLocked" class="hide success-box" style="margin-bottom: 2rem;">
                <p class="text-sm" style="color: #fff; font-weight: bold; margin-bottom: 0.5rem;">CONSTRAINT LOCKED</p>
                <p class="text-xs" style="color: #d1d5db; margin-bottom: 1rem;">
                    Selected: <span id="constraintName" style="color: #fff;"></span>
                </p>
                <button onclick="proceedToMandate('generator')" class="btn btn-primary">
                    PROCEED TO MANDATE
                </button>
            </div>
        </div>

        <!-- SCREEN 3: The Mandate -->
        <div id="mandateScreen" class="hide">
            <div class="box">
                <h2 class="section-title">7-DAY SHIPPING MANDATE</h2>
                <p class="text-sm" style="margin-bottom: 1.5rem;">
                    The filter is the easy part. Keeping it alive is the work.
                </p>
                
                <div class="box-dark" style="margin-bottom: 1.5rem;">
                    <p class="text-xs" style="color: #6b7280; margin-bottom: 0.5rem;">YOUR CONSTRAINT</p>
                    <p id="finalProject" class="text-base" style="font-weight: bold; margin-bottom: 1rem;"></p>
                    
                    <p class="text-xs" style="color: #6b7280; margin-bottom: 0.5rem;">MANDATE</p>
                    <p class="text-sm" style="color: #fff;">
                        You have 7 days to make this live. Not planned. Not outlined. Live.
                    </p>
                </div>

                <div class="box-dark" style="margin-bottom: 2rem;">
                    <p class="text-xs" style="color: #fff; margin-bottom: 0.75rem;">
                        Observable output required:
                    </p>
                    <ul class="text-xs space-y-2" style="color: #9ca3af;">
                        <li>• A live link, payment page, or published asset</li>
                        <li>• Public proof that execution occurred</li>
                        <li>• No draft. No "coming soon." Done.</li>
                    </ul>
                </div>
            </div>

            <a href="https://selar.com/6s71967168" target="_blank" rel="noopener noreferrer" class="btn btn-primary" style="display: block; text-align: center; margin-bottom: 1rem;">
                ACCEPT THE 7-DAY SHIPPING MANDATE
            </a>

            <div class="box-dark">
                <p class="text-xs" style="color: #6b7280; margin-bottom: 0.75rem;">
                    The 14-Day Execution System includes:
                </p>
                <ul class="text-xs space-y-2" style="color: #9ca3af;">
                    <li>• The complete enforcement protocol</li>
                    <li>• Daily execution tracking system</li>
                    <li>• Anti-relapse mechanisms</li>
                    <li>• The framework that maintains constraint without willpower</li>
                </ul>
            </div>

            <button onclick="reset()" class="btn btn-secondary" style="margin-top: 2rem;">
                RESET PROTOCOL
            </button>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p class="text-xs" style="color: #4b5563;">
                Executionist Content Operating System · Constraint-Based Action
            </p>
        </div>
    </div>

    <script>
        let projects = [];
        let killedProjects = [];
        let selectedConstraint = null;
        let survivor = null;
        let currentPath = null;

        // PATH SELECTION
        function selectPath(path) {
            console.log('selectPath called with:', path);
            currentPath = path;
            
            const entryScreen = document.getElementById('entryScreen');
            const filterScreen = document.getElementById('filterScreen');
            const generatorScreen = document.getElementById('generatorScreen');
            
            console.log('entryScreen:', entryScreen);
            console.log('filterScreen:', filterScreen);
            console.log('generatorScreen:', generatorScreen);
            
            entryScreen.classList.add('hide');
            
            if (path === 'filter') {
                initProjects();
                filterScreen.classList.remove('hide');
                console.log('Filter screen should now be visible');
            } else {
                generatorScreen.classList.remove('hide');
                console.log('Generator screen should now be visible');
            }
        }

        // FILTER PATH FUNCTIONS
        function initProjects() {
            projects = [];
            for (let i = 0; i < 5; i++) {
                projects.push('');
            }
            renderProjects();
        }

        function renderProjects() {
            const list = document.getElementById('projectList');
            list.innerHTML = '';
            projects.forEach((project, index) => {
                const div = document.createElement('div');
                div.className = 'flex gap-3';
                div.innerHTML = `
                    <span class="text-sm" style="color: #6b7280; width: 1.5rem;">${index + 1}.</span>
                    <input 
                        type="text" 
                        value="${project}" 
                        onchange="updateProject(${index}, this.value)"
                        placeholder="Enter project or idea"
                    />
                `;
                list.appendChild(div);
            });
        }

        function updateProject(index, value) {
            projects[index] = value;
        }

        function addProject() {
            projects.push('');
            renderProjects();
        }

        function beginKill() {
            const filledProjects = projects.filter(p => p.trim() !== '');
            if (filledProjects.length === 0) {
                alert('Add at least one project before beginning elimination.');
                return;
            }
            if (filledProjects.length === 1) {
                survivor = filledProjects[0];
                document.getElementById('beginKillBtn').classList.add('hide');
                document.getElementById('killZone').classList.remove('hide');
          
